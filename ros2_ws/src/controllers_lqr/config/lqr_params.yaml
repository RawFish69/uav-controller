lqr_controller:
  ros__parameters:
    control_rate: 100.0  # Hz
    mass: 1.0  # kg
    Jx: 0.01  # kg*m^2
    Jy: 0.01  # kg*m^2
    Jz: 0.02  # kg*m^2
    hover_thrust: 0.5  # normalized [0..1]
    
    # Gain matrix K (4x6), row-major format
    # K * [phi, theta, psi, p, q, r]' = [p_cmd, q_cmd, r_cmd, thrust_cmd]'
    # Default conservative gains (not true LQR solution)
    K: [
      6.0, 0.0, 0.0, 1.0, 0.0, 0.0,  # p_cmd
      0.0, 6.0, 0.0, 0.0, 1.0, 0.0,  # q_cmd
      0.0, 0.0, 3.0, 0.0, 0.0, 0.8,  # r_cmd
      0.0, 0.0, 0.0, 0.0, 0.0, 0.0   # thrust_cmd - hover thrust added separately
    ]
    
    # To use custom LQR gains, replace K with your computed matrix
    # Example: Run offline LQR solver with your A, B, Q, R matrices

